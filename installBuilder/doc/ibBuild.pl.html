<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html version="3.0">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<!-- Automatically generated HTML from man page source -->
<title>ibBuild.pl Document</title>
</head>
<body bgcolor="#FFFFFF">
<a href="http://www.wizzer.com/index.htm" target="_top">Wizzer Works Home Page</a> 
: <a href="http://www.wizzer.com/swengr/index.htm">Software Engineering</a> : 
<a href="http://www.wizzer.com/swengr/toolroot/index.html">Wizzer Works Toolroot</a> :
ibBuild
<hr>

<h3>ibBuild.pl -- Perl Script for Building Distribution Packages</h3>

<small>
<p>
Author: <b><i>Mark S. Millard</i></b><br>
Last Modified: <b><i>April 17, 2000</i></b>
</p>
</small>

<hr>
<dl>
<dt><b>NAME</b></dt>

<p></p>

<dd><b>ibBuild.pl</b> -- build distribution package for
installation under Microsoft Windows or Linux</dd>

<p></p>

<dt><b>SYNOPSIS</b></dt>

<p></p>

<dd><b>perl</b> ibBuild.pl <i>options</i></dd>

<p></p>

<dt><b>DESCRIPTION</b></dt>

<p></p>

<dd><a href="ibBuild.pl.html">ibBuild.pl</a> creates
distribution packages for the Microsoft Windows or Linux platforms.
On Windows the packages are built as self-extracting InstallShield installers.
On Linux the packages are built as .rpm files.</dd>
<p>
A package is created for each product description
in a given "spec" file, using one or more collection files to learn
what's in each subsystem.</p>

<dd><b>Options</b></dd>

<p></p>

<dl>
<dd><b>-baseDir <i>baseDirectory</i></b><br>
Entries in the collection files are specified relative to the base
directory. If this option is not given and the environment variable
<b>$IBBASEDIR</b> is set, its value will be used.

<p><b>-collect <i>collectionFile</i></b><br>
Specifies a collection file to be used to learn about which files
are to be included in the distribution package. At
least one file must be specified. More than one file may be
specified by repeating this option.</p>

<p><b>-ibDir <i>installBuilderDirectory</i></b><br>
<a href="ibBuild.pl.html">ibBuild.pl</a> uses several supporting
tools. Use this option to specify where they are located. If this
option is not given and the environment variable <b>$IBDIR</b> is set,
its value will be used. The <i>installBuilderDirectory</i> must be specified
one way or another. (An example value is
"C:\wizzer\installBuilder".)</p>

<p><b>-ibTmpDir <i>stagingDirectory</i></b><br>
This option specifies where the temporary staging directory will
be created. By default, the <i>stagingDirectory</i> will be
"<b>./instcruft</b>". For more information on how the staging directory
is used, see the <a href="#Windows Extensions">Windows Notes and Extensions</a>
and <a href="#Linux Extensions">Linux Notes and Extensions</a> sections for
the appropriate platform.
</p>

<p><b>-n (Linux Only)</b><br>
On Linux this option will build the staging directory and RPM spec file
(see <a href="#Linux Extensions">Linux Notest and Extensions</a>
below for details).
It will not generate the final RPM packages. By default the staging
directory will be created under a subdirectory named "<b>instcruft</b>".
The RPM spec files will be located under the "<b>instcruft/SPECS</b>"
directory.<br>
</p>

<p><b>-q</b><br>
Quiet mode. Do not display progress information.
</p>

<p><b>-relocate <i>relocationDirectory</i> (Linux Only)</b><br>
This option specifies the relocation directory, or where the files
will be installed to relative to the specifed <i>relocationDirectory</i>.
By default, the relocation directory will be "<b>/var/wizzer</b>".
</p>

<p><b>-spec <i>specificationFile</i></b><br>
Specifies what product specification file to use. This is
required.<br>
<br>
Note that this file should NOT be confused with the RPM specification
file which is generated by <a href="ibBuild.pl.html">ibBuild.pl</a></p>

<p><b>-target linux | windows</b><br>
This option specifies which target platform to consider. By default,
the target is <b>linux</b>; this means that "<b>windows</b>" MUST
be specified when building packages for the Microsoft Windows platforms.
</p>

</dd>
</dl>

<dd><b>Specification File Grammar</b><br></dd>

<p></p>

<dl>
<dd>The spec file format is a poor copy of the SGI spec file format.
The following is an extended BNF-style grammar for the file. (Note:
the header must be the first line of the file.)</dd>

<p></p>

<dl>
<dt><i>specFile</i> ::=</dt>

<dd><i>header</i> <i>productDecl</i>*</dd>

<dt><i>header</i> ::=</dt>

<dd><b>#InstallBuilder Spec 1.0</b></dd>

<dt><i>productDecl</i> ::=</dt>

<dd><b>product</b> <i>productId</i> <i>versionNumber</i><br>
<b>uiName</b> restOfLine<br>
<b>defaultInstallDir</b> restOfLine<br>
<i>subsystem</i>*<br>
<b>endproduct</b><br>
</dd>

<dt><i>subsystem</i> ::=</dt>

<dd><b>subsys</b> <i>subsysId</i><br>
<b>export</b> <i>tag</i>+<br>
<b>endsubsys</b><br>
</dd>

<dt><i>productId</i> ::=</dt>

<dd>alphanumeric string</dd>

<dt><i>versionNumber</i> ::=</dt>

<dd>alphanumeric string</dd>

<dt><i>tag</i> ::=</dt>

<dd>alphanumeric string</dd>

<dt><i>subsysId</i> ::=</dt>

<dd>alphanumeric string</dd>
</dl>
</dl>

<p></p>

<dd><b>Example Product Spec</b><br></dd>

<dl>
<p></p>
<dd>Here's a simple spec file example:</dd>

<p></p>

<dl>
<dt><b>#InstallBuilder Spec 1.0</b><br>
</dt>

<dt><b>product</b> wz_toolroot 0.5<br>
</dt>

<dd><b>uiName</b> Wizzer Works Development Toolroot<br>
<b>defaultInstallDir</b> wizzer<br>
<dl>
<dt><b>subsys</b> base<br>
</dt>

<dd><b>uiName</b> Wizzer Works Development Executable Tools<br>
</dd>

<dd><b>export</b> BIN &amp;&amp; IB<br>
</dd>
</dl>

<b>endsubsys</b><br>
<dl>
<dt><b>subsys</b> doc<br>
</dt>

<dd><b>uiName</b> Wizzer Works Development Tools Documentation<br>
</dd>

<dd><b>export</b> DOC<br>
</dd>
</dl>

<b>endsubsys</b><br>
</dd>
</dl>

<b>endproduct</b><br>
</dd>
</dl>

<p></p>

<dt><b>CAVEATS</b></dt>

<p></p>

<dl>
<a name="Linux Extensions"></a>
<b>Linux Notes and Extensions</b>

<p></p>

<dd>
ibBuild.pl produces a relocatable package.
</dd>
</dl>

<p></p>

<dl>
<a name="Windows Extensions"></a>
<b>Windows Notes and Extensions</b>

<p></p>

<dd>
Because some of the InstallShield programs require 8.3
names, tags in the product spec file should be at most 8 characters long.
(This is checked by ibBuild.pl.)
</dd>
</dl>

<p></p>

<dt><b>SEE ALSO</b></dt>

<p></p>

<dd><a href="installBuilder.html">InstallBuilder</a>, <a href= 
"ibCollect.pl.html">ibCollect.pl</a>, <a href= 
"ibVerifyCollection.pl.html">ibVerifyCollection.pl</a></dd>
</dl>

<hr>
<small>
Last Published: <i>April 17, 2000</i><br>
Contact: <a href="mailto:webmaster@wizzer.com">webmaster@wizzer.com</a>
</small>

</body>
</html>
